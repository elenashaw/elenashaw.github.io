<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Elena's Space âœ¨</title>
  <style>
    :root {
      --bg: #f8fafc;
      --card-bg: #ffffff;
      --primary: #4f46e5;
      --accent: #10b981;
      --text-main: #0f172a;
      --text-muted: #64748b;
      --border: #e2e8f0;
      --radius: 20px;
    }

    body {
      margin: 0; padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background-color: var(--bg); color: var(--text-main);
      -webkit-font-smoothing: antialiased;
    }

    /* Hero åŒº */
    .hero {
      background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
      color: white; padding: 60px 20px 100px;
    }

    .hero-container {
      max-width: 1100px; margin: 0 auto;
      display: flex; flex-wrap: wrap; gap: 40px; align-items: flex-start;
    }

    /* å·¦ä¾§ä»‹ç» */
    .hero-intro { flex: 1.2; min-width: 320px; }
    .hero-intro h1 { font-size: 2.2rem; margin: 0; font-weight: 800; }
    .hero-intro p { font-size: 1.25rem; line-height: 1.8; opacity: 0.95; margin: 20px 0 0; }

    /* è”ç³»æ–¹å¼æ ·å¼ */
    .contact-bar { display: flex; gap: 12px; margin-top: 25px; }
    .contact-item {
      display: flex; align-items: center; gap: 8px; padding: 8px 18px;
      border-radius: 50px; background: rgba(255, 255, 255, 0.15);
      color: white; text-decoration: none; font-size: 0.9rem;
      transition: 0.3s; border: 1px solid rgba(255,255,255,0.1);
      cursor: pointer;
    }
    .contact-item:hover { background: rgba(255, 255, 255, 0.25); transform: translateY(-2px); }

    /* å³ä¾§åŠ¨æ€å¡ç‰‡ (å›ºå®šé«˜åº¦ 220px) */
    .hero-progress {
      flex: 0.8; min-width: 320px; height: 220px;
      background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
      padding: 20px 24px; border-radius: 24px; border: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 10px 30px rgba(0,0,0,0.1); display: flex; flex-direction: column;
    }

    .update-header {
      display: flex; justify-content: space-between; align-items: center;
      margin-bottom: 12px; border-bottom: 1px solid rgba(255,255,255,0.15); padding-bottom: 8px;
    }
    .tabs-left { display: flex; gap: 15px; }
    .tab-btn {
      background: none; border: none; color: white; opacity: 0.6; cursor: pointer;
      font-size: 0.9rem; font-weight: 600; padding: 2px 0; transition: 0.3s;
    }
    .tab-btn.active { opacity: 1; border-bottom: 2px solid var(--accent); }
    #display-date { font-size: 0.75rem; opacity: 0.8; font-family: monospace; }

    .scroll-container { flex: 1; overflow-y: auto; padding-right: 5px; }
    .scroll-container::-webkit-scrollbar { width: 3px; }
    .scroll-container::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 10px; }

    .update-list { display: flex; flex-direction: column; gap: 10px; }
    .update-item { display: flex; align-items: flex-start; gap: 10px; font-size: 0.9rem; line-height: 1.5; color: white; }
    .update-item::before { content: "â€¢"; color: var(--accent); font-weight: bold; }

    .history-footer { margin-top: 10px; padding-top: 5px; text-align: right; }
    .history-link { color: white; opacity: 0.6; font-size: 0.75rem; text-decoration: none; cursor: pointer; }
    .history-link:hover { opacity: 1; text-decoration: underline; }

    /* å¼¹çª—æ ¸å¿ƒæ ·å¼ */
    #history-modal {
      display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(8px); z-index: 1000;
      justify-content: center; align-items: center;
    }
    .modal-content {
      background: white; color: var(--text-main); padding: 30px; border-radius: 24px;
      width: 90%; max-width: 480px; max-height: 75vh; overflow-y: auto; position: relative;
    }
    .close-modal { position: absolute; top: 20px; right: 20px; cursor: pointer; font-size: 1.5rem; color: var(--text-muted); }

    .email-display-box { text-align: center; padding: 10px 0; }
    .email-address {
      font-size: 1.15rem; color: var(--primary); background: #f0f2ff;
      padding: 12px 15px; border-radius: 12px; display: inline-block;
      margin: 15px 0; font-family: monospace; border: 1px dashed var(--primary);
    }

    /* ä¸‹æ–¹å±•ç¤ºå¡ç‰‡ */
    .main-content { max-width: 1100px; margin: -50px auto 60px; padding: 0 20px; }
    .card-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 24px; }
    .card { 
      background: var(--card-bg); padding: 30px; border-radius: var(--radius);
      border: 1px solid var(--border); text-decoration: none; color: inherit;
      transition: all 0.3s ease; display: flex; flex-direction: column; 
    }
    .card:hover { transform: translateY(-6px); border-color: var(--primary); box-shadow: 0 15px 30px rgba(0,0,0,0.08); }
    .card h3 { margin: 15px 0 10px; font-size: 1.3rem; color: var(--primary); }
    .card p { font-size: 1rem; color: var(--text-muted); line-height: 1.6; margin: 0; }

    footer { text-align: center; padding: 60px 20px; color: var(--text-muted); font-size: 0.9rem; }

    @media (max-width: 768px) { .hero-container { flex-direction: column; } .contact-bar { justify-content: center; } .hero-intro { text-align: center; } }
  </style>
</head>
<body>

  <header class="hero">
    <div class="hero-container">
      <div class="hero-intro">
        <h1>Elena's Space âœ¨</h1>
        <p>æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººä¸»é¡µã€‚è¿™é‡Œä¸»è¦è®°å½•æˆ‘çš„è¯¾ç¨‹å­¦ä¹ ã€ç®—æ³•é¢˜è§£ã€è®ºæ–‡ç ”è¯»ã€é¡¹ç›®å®è·µä¸é˜…è¯»æ€è€ƒä¸­çš„ç³»ç»ŸåŒ–ç¬”è®°ã€‚</p>
        
        <div class="contact-bar">
          <a href="https://github.com/elenashaw" target="_blank" class="contact-item">Github</a>
          <a onclick="openEmailModal()" class="contact-item">Email</a>
          <a href="https://your-blog-or-sns.com" target="_blank" class="contact-item">Blog</a>
        </div>
      </div>

      <div class="hero-progress">
        <div class="update-header">
          <div class="tabs-left">
            <button class="tab-btn active" id="btn-log" onclick="switchTab('log')">æœ€è¿‘æ›´æ–°</button>
            <button class="tab-btn" id="btn-plan" onclick="switchTab('plan')">ç»´æŠ¤è®¡åˆ’</button>
          </div>
          <span id="display-date">Loading...</span>
        </div>
        <div class="scroll-container">
          <div id="content-list" class="update-list"></div>
        </div>
        <div class="history-footer">
          <a class="history-link" id="history-entry" onclick="handleHistoryClick()">ğŸ“œ æŸ¥çœ‹å†å²è¶³è¿¹ â†’</a>
        </div>
      </div>
    </div>
  </header>

  <main class="main-content">
    <div class="card-grid">
      <a href="https://elenashaw.github.io/course/" target="_blank" class="card">
        <div style="font-size: 2.2rem;">ğŸ“š</div>
        <h3>è¯¾ç¨‹ç¬”è®°</h3>
        <p>æ¶µç›–æ•°å­¦ã€æœºæ¢°ã€èƒ½æºåŠ¨åŠ›ã€è®¡ç®—æœºä¸å¾·è¯­å­¦ä¹ ç­‰æ–¹å‘çš„ç³»ç»ŸåŒ–ç¬”è®°ã€‚</p>
      </a>
      <a href="/course/leetcode/index.html" class="card"><div style="font-size: 2.2rem;">ğŸ’¡</div><h3>LeetCode</h3><p>å›´ç»•å…¸å‹é¢˜å‹æ•´ç†çš„ç®—æ³•æ¨¡å‹ä¸è§£é¢˜èŒƒå¼ã€‚</p></a>
      <a href="/course/papers/index.html" class="card"><div style="font-size: 2.2rem;">ğŸ“„</div><h3>è®ºæ–‡çŸ¥è¯†åº“</h3><p>èšç„¦æ·±åº¦å­¦ä¹ é¢†åŸŸè®ºæ–‡ç ”è¯»ï¼Œé‡ç‚¹æ•´ç†æ ¸å¿ƒé€»è¾‘ã€å…³é”®å…¬å¼æ‹†è§£ä¸å®éªŒå¤ç°å¿ƒå¾—ã€‚</p></a>
      <a href="/course/projects/index.html" class="card"><div style="font-size: 2.2rem;">ğŸ› ï¸</div><h3>é¡¹ç›®å®è·µ</h3><p>è®°å½•ä¸ªäººå‚ä¸çš„ç§‘ç ”é¡¹ç›®ã€å¼€å‘å®è·µåŠæŠ€æœ¯åŸå‹ï¼Œä¾§é‡äºæ€è·¯ä¸å®ç°ã€‚</p></a>
      <a href="/course/reading/index.html" class="card"><div style="font-size: 2.2rem;">âœï¸</div><h3>é˜…è¯»æ‰‹è®°</h3><p>è®°å½•æŠ€æœ¯ã€äººæ–‡ä»¥åŠå…¶ä»–é¢†åŸŸä¹¦ç±çš„é˜…è¯»æ‘˜å½•ä¸ä¸ªäººæ€è€ƒã€‚</p></a>
    </div>
  </main>

  <div id="history-modal" onclick="closeHistory()">
    <div class="modal-content" onclick="event.stopPropagation()">
      <span class="close-modal" onclick="closeHistory()">Ã—</span>
      <div id="modal-body"></div>
    </div>
  </div>

  <footer>Â© 2025 Â· Elena Â· Built with â¤ï¸ & ğŸ’»</footer>

  <script src="./update.js"></script>
  <script src="./current.js"></script>

  <script>
    let currentTab = 'log';

    function switchTab(type) {
      currentTab = type;
      document.getElementById('btn-log').classList.toggle('active', type === 'log');
      document.getElementById('btn-plan').classList.toggle('active', type === 'plan');
      // ä¸¤ä¸ªæ ‡ç­¾é¡µç°åœ¨éƒ½æ˜¾ç¤ºå†å²å…¥å£
      document.getElementById('history-entry').style.visibility = 'visible';
      renderContent();
    }

    function renderContent() {
      const listContainer = document.getElementById('content-list');
      const dateLabel = document.getElementById('display-date');
      
      // 1. å®‰å…¨æ£€æŸ¥ï¼šç¡®ä¿æ•°æ®å·²åŠ è½½
      const historyData = (window.siteHistory && window.siteHistory.length > 0) ? window.siteHistory[0] : null;
      const planData = (window.maintenancePlans && window.maintenancePlans.length > 0) ? window.maintenancePlans[0] : null;

      if (currentTab === 'log') {
        if (historyData) {
          dateLabel.innerText = historyData.date;
          // å…¼å®¹æ€§å¤„ç†ï¼šä¼˜å…ˆè¯» logs å­—æ®µ
          const items = historyData.logs || historyData.plans || [];
          listContainer.innerHTML = items.map(item => `<div class="update-item"><span>${item}</span></div>`).join('');
        }
      } else if (currentTab === 'plan') {
        if (planData) {
          dateLabel.innerText = planData.date;
          // å…¼å®¹æ€§å¤„ç†ï¼šä¼˜å…ˆè¯» plans å­—æ®µ
          const items = planData.plans || planData.logs || [];
          listContainer.innerHTML = items.map(item => `<div class="update-item"><span>${item}</span></div>`).join('');
        }
      }
    }

    // æ ¹æ®å½“å‰æ ‡ç­¾é¡µåˆ¤æ–­æ‰“å¼€å“ªç§å†å²
    function handleHistoryClick() {
      if (currentTab === 'log') {
        openHistory();
      } else {
        openPlanHistory();
      }
    }

    // æ›´æ–°å†å²å¼¹çª—
    function openHistory() {
      const modal = document.getElementById('history-modal');
      const body = document.getElementById('modal-body');
      modal.style.display = 'flex';
      body.innerHTML = `<h2 style="color:var(--primary); margin-top:0;">ğŸ•°ï¸ å†å²è¶³è¿¹å½’æ¡£</h2>` + 
        window.siteHistory.map(entry => `
          <div style="margin-bottom:18px; border-bottom:1px solid #eee; padding-bottom:10px;">
            <div style="font-weight:bold; color:var(--text-muted); font-size:0.8rem;">${entry.date}</div>
            <ul style="padding-left:20px; margin:5px 0; font-size:0.95rem; line-height:1.6;">
              ${entry.logs.map(log => `<li>${log}</li>`).join('')}
            </ul>
          </div>
        `).join('');
    }

    // è®¡åˆ’å†å²å¼¹çª—
    function openPlanHistory() {
      const modal = document.getElementById('history-modal');
      const body = document.getElementById('modal-body');
      modal.style.display = 'flex';
      body.innerHTML = `<h2 style="color:var(--primary); margin-top:0;">ğŸ“… ç»´æŠ¤è®¡åˆ’å›é¡¾</h2>` + 
        window.maintenancePlans.map(entry => `
          <div style="margin-bottom:18px; border-bottom:1px solid #eee; padding-bottom:10px;">
            <div style="font-weight:bold; color:var(--text-muted); font-size:0.8rem;">å‘å¸ƒæ—¥æœŸï¼š${entry.date}</div>
            <ul style="padding-left:20px; margin:5px 0; font-size:0.95rem; line-height:1.6;">
              ${entry.plans.map(plan => `<li>${plan}</li>`).join('')}
            </ul>
          </div>
        `).join('');
    }

    // Email ä¸“ç”¨ç¾åŒ–å¼¹çª—
    function openEmailModal() {
      const modal = document.getElementById('history-modal');
      const body = document.getElementById('modal-body');
      modal.style.display = 'flex';
      body.innerHTML = `
        <div class="email-display-box">
          <div style="font-size: 3rem; margin-bottom: 10px;">âœ‰ï¸</div>
          <h3 style="margin: 0; color: var(--text-main);">è”ç³»æˆ‘çš„é‚®ç®±</h3>
          <div class="email-address">eleadrwhitmore@gmail.com</div>
          <p style="color:var(--text-muted); font-size:0.85rem;">æ¬¢è¿é€šè¿‡é‚®ä»¶ä¸æˆ‘äº¤æµåˆä½œæˆ–æ¢è®¨å­¦æœ¯é—®é¢˜</p>
          <button onclick="closeHistory()" style="margin-top:15px; background:var(--primary); color:white; border:none; padding:10px 30px; border-radius:50px; cursor:pointer;">å¥½ çš„</button>
        </div>
      `;
    }

    function closeHistory() {
      document.getElementById('history-modal').style.display = 'none';
    }

    window.onload = renderContent;
  </script>
</body>
</html>